---
// Import necessary modules and components
import type { NavLinkItem } from "@utils/navigation";
// import { getLocale } from "astro-i18n-aut"; // Removed unused i18n utility
// import enStrings from "@utils/en/navigation.ts"; // Removed unused i18n strings
// import frStrings from "@utils/fr/navigation.ts"; // Removed unused i18n strings
import BrandLogo from "@components/BrandLogo.astro";
import Authentication from "@components/ui/buttons/Authentication.astro";
import IconSet from "@components/ui/icons/IconSet.astro";
import ThemeIcon from "@components/ThemeIcon.astro";
// import LanguagePicker from "@components/ui/LanguagePicker.astro"; // Removed LanguagePicker import
import navigation from "@utils/navigation";

// Select the correct translation based on the page's lang prop:
// const currentLocale = getLocale(Astro.url); // Removed unused i18n logic
// const t = currentLocale === "fr" ? frStrings : enStrings; // Removed unused i18n logic

// Define props, with a default value for navLinks
const { navBarLinks = navigation.navBarLinks } = Astro.props;
interface Props {
  navBarLinks?: NavLinkItem[];
}
---

<header
  id="header-nav"
  class="fixed inset-x-0 top-0 z-50 flex w-full flex-wrap border-b border-neutral-200 bg-white py-3 text-sm dark:border-neutral-800 dark:bg-neutral-950 sm:flex-nowrap sm:justify-start sm:py-0"
>
  <nav
    class="relative mx-auto w-full max-w-[85rem] px-4 sm:flex sm:items-center sm:justify-between sm:px-6 lg:px-8"
    aria-label="Global"
  >
    <!-- Logo and Hamburger Menu Container -->
    <div class="flex items-center justify-between">
      <BrandLogo />
      <!-- Hamburger Menu Toggle Button -->
      <div class="sm:hidden">
        <button
          type="button"
          class="hs-collapse-toggle flex size-9 items-center justify-center gap-x-2 rounded-lg border border-neutral-200 bg-white text-sm font-medium text-neutral-700 shadow-sm transition-all hover:bg-neutral-50 focus:outline-none focus:ring-1 focus:ring-neutral-400 disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-300 dark:hover:bg-neutral-900 dark:focus:ring-neutral-600"
          data-hs-collapse="#navbar-collapse-with-animation"
          aria-controls="navbar-collapse-with-animation"
          aria-label="Toggle navigation"
        >
          <svg
            class="hs-collapse-open:hidden size-4 flex-shrink-0"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <line x1="3" x2="21" y1="6" y2="6"></line>
            <line x1="3" x2="21" y1="12" y2="12"></line>
            <line x1="3" x2="21" y1="18" y2="18"></line>
          </svg>
          <svg
            class="hs-collapse-open:block hidden size-4 flex-shrink-0"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
          </svg>
        </button>
      </div>
    </div>
    <!-- Navigation Links and Theme/Language Pickers -->
    <div
      id="navbar-collapse-with-animation"
      class="hs-collapse hidden grow basis-full overflow-hidden transition-all duration-300 sm:block"
    >
      <div
        class="mt-5 flex flex-col gap-x-0 gap-y-4 sm:mt-0 sm:flex-row sm:items-center sm:justify-end sm:gap-x-7 sm:gap-y-0 sm:ps-7"
      >
        <!-- Navigation Links -->
        {navBarLinks.map((link) => <a href={link.url}>{link.name}</a>)}
        <Authentication />
        <!-- Theme and Language Pickers -->
        <div class="flex flex-row items-center justify-end gap-x-1">
          <ThemeIcon />
          <!-- Language Picker Dropdown -->
          <!-- <LanguagePicker /> --> <!-- Removed LanguagePicker usage -->
        </div>
        <!-- Hamburger Menu -->
      </div>
    </div>
  </nav>
</header>
