---
// Layout and Base Components
import MainLayout from "@/layouts/MainLayout.astro";
// import HeroSection from "@components/sections/landing/HeroSection.astro"; // Remove old hero
import HeroBackground from "@components/sections/landing/HeroBackground.astro"; // Add new hero
import ContactSection from "@components/sections/misc/ContactSection.astro"; // For contact form/details
import FAQ from "@components/sections/misc/FAQ.astro"; // For FAQ section
// import { Icon } from 'astro-icon/components'; // Removed duplicate/unused import
import IconListSection from "@components/sections/features/IconListSection.astro"; // Added import
import CTASection from "@components/sections/misc/CTASection.astro"; // Added import
import supportHeroBg from '@/images/okra-header-1.png'; // Import the new background image
import QuoteFeatureSplit from "@components/sections/misc/QuoteFeatureSplit.astro"; // Added import
import ctaBgImage from "@/images/layered-waves-haikei.svg"; // Import the background SVG
// import SupportHero from "@components/sections/support/SupportHero.astro"; // Removed import for non-existent component
// import ContactForm from "@components/sections/support/ContactForm.astro"; // Removed import for non-existent component

// --- Page Data ---
const pageTitle = "Support & Contact Us | Okra Orders";
const pageDescription = "Get help and contact the Okra Orders team. Explore in-app help, live chat, video support, and contact options for your catering software needs."; // Added meta description

const hero = {
  tagline: "Help When You Need It",
  title: "Get the Support You Need to Succeed with Okra Orders",
  subTitle: "We believe great software deserves great support. Whether you're just getting started, have a quick question, or want to discuss optimizing your workflow, Okra Orders provides comprehensive help resources and accessible, business-focused assistance to ensure you get the most out of the platform. Find answers yourself, or connect with our team – we're here to help.",
  imgAlt: "Abstract background representing connection and support", // Updated Alt text for new image
  imgSrc: supportHeroBg, // Use imported image
};

// In-App Help Feature Data - Adjusted for IconListSection
const inAppHelp = {
  title: "Learn As You Go, Right Within the App",
  subTitle: "Don't get stuck trying to figure things out. Okra Orders features a built-in help system designed to provide answers and guidance exactly when and where you need them. Reduce training time for your team and master new features faster without ever leaving the application.",
  items: [
    { iconName: "heroicons:question-mark-circle", text: "Contextual Tooltips" }, // Description removed, handled by component
    { iconName: "heroicons:cursor-arrow-rays", text: "Guided Tours" },
    { iconName: "heroicons:book-open", text: "Searchable Knowledge Base" }
  ]
  // Note: Descriptions were part of the original custom layout, not standard IconListSection
};

// Human Support Feature Data - Adjusted for IconListSection
const humanSupport = {
  title: "Talk to Real People Focused on Your Business",
  subTitle: "Sometimes you just need to talk to someone. Our support team understands the nuances of the catering business and is ready to assist not just with technical troubleshooting, but with helping you leverage Okra Orders effectively to streamline your specific operations and achieve your goals.",
  items: [
    { iconName: "heroicons:chat-bubble-left-right", text: "Live Chat Support" },
    { iconName: "heroicons:video-camera", text: "Personalized Video Calls" }
  ]
  // Note: Descriptions were part of the original custom layout, not standard IconListSection
};

// Config for the new QuoteFeatureSplit section
const quoteSupport = {
  quoteContent: "We're caterers, not tech wizards. Having built-in guides and tooltips is helpful, but knowing we can actually talk to someone via chat or video who understands our business challenges and can help us apply the software effectively is really important.",
  quoteAttribution: "- Common Sentiment from Caterers Evaluating Software Solutions",
  featureIconName: "heroicons:chat-bubble-oval-left-ellipsis", // Replaced icon
  featureBadgeText: "Business Focused",
  featureTitle: "Expert Help That Understands Your Business",
  featureDescription: "Technical glitches are only part of the story. True support means understanding your operational goals. Our team focuses on helping you configure Okra Orders optimally for your specific workflows, ensuring you're not just using the software, but truly benefiting from it to improve efficiency and customer satisfaction. We speak your language – the language of catering.",
  layoutDirection: "quote-left" as const,
};

// Contact Section Data (Leveraging ContactSection component)
const contact = {
    title: "Get in Touch with the Okra Team",
    subTitle: "Have questions about features, pricing, getting started, or how Okra Orders can fit your unique catering business? Don't hesitate to reach out. We're happy to chat!",
    // ContactSection likely handles form fields internally, but we provide details
    contactDetails: [
        { type: "Email", value: "support@okraorders.com", description: "For general inquiries or support requests." },
        { type: "Live Chat", value: "Available in Admin Panel (9 AM - 5 PM ET, Mon-Fri)", description: "Look for the chat icon during business hours." },
        { type: "Sales", value: "sales@okraorders.com", description: "For personalized demos or sales discussions (use form or email)." }
    ]
};

// FAQ Data
const supportFaqs = {
  title: "Your Platform & Support Questions Answered",
  faqs: [
    {
      question: "Is Okra Orders complicated to learn, especially for staff who aren't very tech-savvy?",
      answer: "We've designed Okra Orders to be intuitive and user-friendly. Plus, we offer extensive in-app help, including tooltips explaining specific fields, guided tours for common tasks (like setting up a menu item), and a searchable knowledge base, all accessible right within the platform to minimize the learning curve."
    },
    {
      question: "What if I run into a problem or have a question that the in-app help doesn't cover?",
      answer: "We're here to help! You can reach our support team directly via live chat during business hours, using the contact form on this page, or emailing us. For more complex issues or strategic discussions on how to best use Okra for your operations, we can also arrange video calls."
    },
    {
      question: "Can I manage my catering business from my phone or tablet using Okra?",
      answer: "Yes. Okra Orders is fully responsive. While the admin panel is optimized for desktop use due to the amount of information, you can access and use all core functionalities – check dashboards, manage orders, update basic settings – from your tablet or smartphone."
    },
    {
      question: "How often is the platform updated? Will I need to pay for new features?",
      answer: "Okra Orders is under active development, meaning we release improvements and new features regularly based on user feedback. Updates are typically included as part of your subscription plan, ensuring you always have access to the latest capabilities."
    },
    {
      question: "Is your support just for technical problems, or can you help with optimizing how we use the app for our catering business?",
      answer: "Our support is business-focused. While we certainly fix technical issues, our goal is to help you use Okra Orders effectively to streamline your specific catering operations. We can offer guidance on best practices for menu setup, workflow optimization, leveraging integrations, and more, based on our experience."
    }
  ]
};

// Final CTA Data
const finalCTA = {
  title: "Ready to Experience Supported Catering Management?",
  subTitle: "Sign up for your free trial and see how Okra's platform and dedicated support can make a difference for your business.",
  primaryBtn: "Start Free Trial",
  primaryBtnURL: "/signup",
  secondaryBtn: "Try Live Demo",
  secondaryBtnURL: "https://demo.okraorders.com",
  bgImageURL: ctaBgImage.src,
  textColor: "white" as const
};

---

<MainLayout title={pageTitle} meta={pageDescription}>

  <!-- 1. Hero Section -->
  {/* <div class="bg-gradient-to-b from-green-50 to-white pt-16 md:pt-24 pb-8 md:pb-12"> */}
    {/* <HeroSection
      title={hero.title}
      subTitle={hero.subTitle}
      primaryBtn={undefined}
      primaryBtnURL={undefined}
      secondaryBtn={undefined}
      secondaryBtnURL={undefined}
    /> */}
    {/* Optional: Add a visual placeholder/image here if desired later */}
  {/* </div> */}
  
  <HeroBackground
    title={hero.title}
    subTitle={hero.subTitle}
    imgSrc={hero.imgSrc}
    imgAlt={hero.imgAlt}
    minHeight="min-h-[400px] md:min-h-[500px]"
    textShadow="text-shadow-lg"
    backgroundPosition="object-[50%_60%]"
  />

    <!-- 4. Contact Us Section - Integrated -->
  <section id="contact" class="py-0 md:py-24 bg-white rounded-xl scroll-mt-16 my-12">
      <ContactSection
          title={contact.title}
          subTitle={contact.subTitle}
          contactDetails={contact.contactDetails}
      />
      <!-- ContactSection should include the form. Adjust props if needed based on its implementation -->
  </section>
  <!-- 2. Feature: Integrated In-App Help (Using IconListSection) -->
  <section class="py-0 md:py-24 bg-white rounded-xl">
    <IconListSection 
        title={inAppHelp.title}
        subTitle={inAppHelp.subTitle}
        items={inAppHelp.items}
    />
    {/* Removed original custom grid layout */}
  </section>

  <!-- 3. Feature: Dedicated Human Support (Using IconListSection) -->
  <section class="py-0 md:py-24">
     <IconListSection 
        title={humanSupport.title}
        subTitle={humanSupport.subTitle}
        items={humanSupport.items}
    />
    {/* Removed original custom grid layout */}
  </section>

  <!-- NEW: Quote Section -->
  <QuoteFeatureSplit
      quoteContent={quoteSupport.quoteContent}
      quoteAttribution={quoteSupport.quoteAttribution}
      featureIconName={quoteSupport.featureIconName}
      featureBadgeText={quoteSupport.featureBadgeText}
      featureTitle={quoteSupport.featureTitle}
      featureDescription={quoteSupport.featureDescription}
      layoutDirection={quoteSupport.layoutDirection}
  />



  <!-- 5. FAQ Section -->
  <section class="py-0 md:py-24 bg-neutral-50 dark:bg-neutral-900 rounded-xl my-12">
    <FAQ title={supportFaqs.title} faqs={supportFaqs} />
  </section>

  <!-- 6. Final CTA Section (Using CTASection Component) -->
  <section class="rounded-xl my-12">
  <CTASection
      title={finalCTA.title}
      subTitle={finalCTA.subTitle}
      primaryBtn={finalCTA.primaryBtn}
      primaryBtnURL={finalCTA.primaryBtnURL}
      secondaryBtn={finalCTA.secondaryBtn}
      secondaryBtnURL={finalCTA.secondaryBtnURL}
      bgImageURL={finalCTA.bgImageURL}
      textColor={finalCTA.textColor}
  />
  </section>
</MainLayout>

<script>
  // Optional: Add GSAP animations if desired, similar to online-ordering page
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener("DOMContentLoaded", () => {
    // Simple fade-in animation for sections
    gsap.utils.toArray<HTMLElement>('section').forEach((section, i) => {
      // Skip hero for this animation if desired
      if (i === 0 && section.parentElement?.classList.contains('bg-gradient-to-b')) return;

      gsap.from(section, {
        scrollTrigger: {
          trigger: section,
          start: "top 85%", // Start animation when 85% of the section is visible
          end: "bottom 15%", // Reverse animation when section is 15% from bottom
          toggleActions: "play none none reverse",
          // markers: true, // Uncomment for debugging scroll trigger points
        },
        opacity: 0,
        y: 30, // Move up slightly
        duration: 0.6,
        ease: "power1.out",
      });
    });
  });
</script> 